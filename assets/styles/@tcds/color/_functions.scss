@use "sass:map";
@use "_variables" as *;

/**
 * Utility functions for the color system.
 */

/**
 * A generic getter function for color maps. First checks that `$color-token` is
 * a valid key for `$color-map`, then that `$grade` is a valid grade for
 * `$color-token`.
 */
@function color-getter($color-map, $color-token, $grade) {
  @if map.has-key($color-map, $color-token) {
    @if map.has-key($color-map, $color-token, $grade) {
      @return map.get($color-map, $color-token, $grade);
    } @else {
      @error "#{$grade} is not a valid key for #{$color-token}.";
    }
  } @else {
    @error "#{$color-token} is not a valid key.";
  }
}

/**
 * A getter function for the `$colors` map (see _variables).
 */
@function color($color, $grade: "300") {
  @return color-getter($colors, $color, $grade);
}

/**
 * A getter function for the `$interface-colors` map (see _variables).
 */
@function interface-color($color, $grade: "300") {
  @return color-getter($interface-colors, $color, $grade);
}

/**
 * A getter function for the `$theme-colors` map (see _variables).
 */
@function theme-color($color, $grade: "300") {
  @return color-getter($theme-colors, $color, $grade);
}
