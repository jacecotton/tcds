@use "sass:math";
@use "@tcds/_all" as *;

/**
 * Fake gaps between flex or grid items (immediate children of flex or grid
 * containers) by adding margins. For rows, a left margin will be added to every
 * child except the first. For columns, a top margin will be added to every
 * child except the first. For grids, half the margin value will be added to all
 * sides (since the margin will double up).
 *
 * Note that this is only an approximate imitation of what gap does. With
 * flexbox, wrapping is not accounted for, meaning the first item on a new row
 * will have an awkward blank space at the block start. With grid, there will be
 * excess space around the entire container.
 */

@each $token, $value in $spaces {
  .gap-#{$token} {
    margin: $value * -1;

    > * {
      margin: math.div($value, 2);
    }
  }

  .row-gap-#{$token} {
    margin: 0 ($value * -1);

    > * {
      margin: 0 math.div($value, 2);
    }
  }

  .column-gap-#{$token} {
    margin: ($value * -1) 0;

    > * {
      margin: math.div($value, 2) 0;
    }
  }
}
