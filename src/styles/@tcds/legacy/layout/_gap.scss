@use "sass:math";
@use "../../_all" as *;

/**
 * Fake gaps between flex or grid items (immediate children of flex or grid
 * containers) by adding margins. For rows, a left margin will be added to every
 * child except the first. For columns, a top margin will be added to every
 * child except the first. For grids, half the margin value will be added to all
 * sides (since the margin will double up).
 *
 * Note that this is only an approximate imitation of what gap does. With
 * flexbox, wrapping is not accounted for, meaning the first item on a new row
 * will have an awkward blank space at the block start. With grid, there will be
 * excess space around the entire container.
 */

@each $token, $value in $spaces {
  .gap-#{$token}.row > :not(:first-child),
  .row-gap-#{$token} > :not(:first-child) {
    margin-left: $value;
  }

  .gap-#{$token}.column > :not(:first-child),
  .column-gap-#{$token} > :not(:first-child) {
    margin-top: $value;
  }

  .gap-#{$token}.grid {
    margin: $value * -1;

    > * {
      margin: math.div($value, 2);
    }
  }
}